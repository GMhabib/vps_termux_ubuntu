<?php eval(base64_decode('c2Vzc2lvbl9zdGFydCgpOw0KaW5jbHVkZSAiLi80MDQvcHJvLnBocCI7DQovLyBUYW1iYWhrYW4gbG9naWthIGxvZ291dA0KaWYgKGlzc2V0KCRfR0VUWydsb2dvdXQnXSkpIHsNCiAgICBzZXNzaW9uX2Rlc3Ryb3koKTsNCiAgICBoZWFkZXIoIkxvY2F0aW9uOiAvaW5kZXgucGhwIik7DQogICAgZXhpdCgpOw0KfQ0KDQppZiAoIWlzc2V0KCRfU0VTU0lPTlsnZ21fdmlkZW8nXSkpIHsNCiAgICBoZWFkZXIoIkxvY2F0aW9uOiAvaW5kZXgucGhwIik7DQogICAgZXhpdCgpOw0KfQ0KPz4NCjwhRE9DVFlQRSBodG1sPg0KPGh0bWwgbGFuZz0iaWQiPg0KPGhlYWQ+DQogICAgPG1ldGEgY2hhcnNldD0iVVRGLTgiPg0KICAgIDx0aXRsZT5UZXJsaW5kdW5naSB8IEhhayBDaXB0YSAyMDI1IHwgVmVub20gR2VtIEN5YmVy4oSiIChWR0MpIDwvdGl0bGU+DQoJICAgIDxsaW5rIGhyZWY9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vYm9vdHN0cmFwQDUuMy4zL2Rpc3QvY3NzL2Jvb3RzdHJhcC5taW4uY3NzIiByZWw9InN0eWxlc2hlZXQiPg0KICAgIDxzY3JpcHQ+DQogICAgICAgIHZhciB0eHQgPSAiVGVybGluZHVuZ2kgfCBIYWsgQ2lwdGEgMjAyNSB8IFZlbm9tIEdlbSBDeWJlcuKEoiAoVkdDKSAiOyANCiAgICAgICAgdmFyIHNwZWVkID0gMjAwOyANCiAgICAgICAgdmFyIHJlZnJlc2ggPSBudWxsOyANCg0KICAgICAgICBmdW5jdGlvbiBtb3ZlVGl0bGUoKSB7DQogICAgICAgICAgICBkb2N1bWVudC50aXRsZSA9IHR4dDsgDQogICAgICAgICAgICB0eHQgPSB0eHQuc3Vic3RyaW5nKDEsIHR4dC5sZW5ndGgpICsgdHh0LmNoYXJBdCgwKTsgDQogICAgICAgICAgICByZWZyZXNoID0gc2V0VGltZW91dCgibW92ZVRpdGxlKCkiLCBzcGVlZCk7IA0KICAgICAgICB9DQoNCiAgICAgICAgbW92ZVRpdGxlKCk7IA0KICAgIDwvc2NyaXB0Pg0KICAgIA0KICAgIDxzY3JpcHQgc3JjPSJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9qc3ppcC8zLjEwLjEvanN6aXAubWluLmpzIj48L3NjcmlwdD4NCg0KICAgIDxzY3JpcHQ+DQogICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ0RPTUNvbnRlbnRMb2FkZWQnLCBmdW5jdGlvbigpIHsNCiAgICAgICAgICAgIGNvbnN0IENPUFlSSUdIVF9NRVNTQUdFID0gIlBFUklOR0FUQU4gSEFLIENJUFRBISBUaW5kYWthbiBBbmRhIChLbGlrIEthbmFuL01lbnlhbGluKSBkaWJsb2tpci4gS29udGVuIGluaSBkaWxpbmR1bmdpIG9sZWggdW5kYW5nLXVuZGFuZy4iOw0KDQogICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uKGV2ZW50KSB7DQogICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICBhbGVydChDT1BZUklHSFRfTUVTU0FHRSArICJcblxuIik7DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGZ1bmN0aW9uKGUpIHsNCiAgICAgICAgICAgICAgICBjb25zdCBmb3JiaWRkZW5LZXlzID0gWydDJywgJ1UnXTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdGMTInIHx8IGUua2V5Q29kZSA9PT0gMTIzKSB7DQogICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTsNCiAgICAgICAgICAgICAgICAgICAgYWxlcnQoQ09QWUNPUFlSSUdIVF9NRVNTQUdFICsgIlxuXG4oQWtzaTogRGV2ZWxvcGVyIFRvb2xzL0YxMiBkaWJsb2tpcikiKTsNCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIGlmIChlLmN0cmxLZXkgfHwgZS5tZXRhS2V5KSB7DQogICAgICAgICAgICAgICAgICAgIGlmIChmb3JiaWRkZW5LZXlzLmluY2x1ZGVzKGUua2V5LnRvVXBwZXJDYXNlKCkpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBhbGVydChDT1BZUklHSFRfTUVTU0FHRSArIGBcblxuKEFrc2k6IFBlcmludGFoIEN0cmwrJHtlLmtleS50b1VwcGVyQ2FzZSgpfSBkaWJsb2tpcilgKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgICAgIGlmIChlLnNoaWZ0S2V5ICYmIChlLmtleSA9PT0gJ0knIHx8IGUua2V5ID09PSAnSicgfHwgZS5rZXkgPT09ICdLJykpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgYWxlcnQoQ09QWVJJR0hUX01FU1NBR0UgKyAiXG5cbihBa3NpOiBJbnNwZWN0IEVsZW1lbnQvQ29uc29sZSBkaWJsb2tpcikiKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCg0KICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2VsZWN0c3RhcnQnLCBmdW5jdGlvbihlKSB7DQogICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KICAgICAgICAgICAgICAgIGFsZXJ0KENPUFlSSUdIVF9NRVNTQUdFICsgIlxuXG4oQWtzaTogU2VsZWtzaSBUZWtzIGRpYmxva2lyKSIpOw0KICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgICAgICAgIH0pOw0KDQogICAgICAgIH0pOw0KICAgIDwvc2NyaXB0Pg0KICAgIA0KICAgIDxzdHlsZT4NCiAgICAgICAgYm9keSB7DQogICAgICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTsNCiAgICAgICAgICAgIC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmU7DQogICAgICAgICAgICAtbW96LXVzZXItc2VsZWN0OiBub25lOw0KICAgICAgICAgICAgLW1zLXVzZXItc2VsZWN0OiBub25lOw0KICAgICAgICAgICAgY3Vyc29yOiBkZWZhdWx0Ow0KICAgICAgICB9DQogICAgPC9zdHlsZT4NCg0KICAgIDxtZXRhIG5hbWU9InZpZXdwb3J0IiBjb250ZW50PSJ3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MSI+DQoNCiAgICA8c3R5bGU+DQogICAgICAgIGJvZHkgew0KICAgICAgICAgICAgbWFyZ2luOiAwOw0KICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdQb3BwaW5zJywgc2Fucy1zZXJpZjsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxMjEyMTI7DQogICAgICAgICAgICBjb2xvcjogI2UwZTBlMDsNCiAgICAgICAgfQ0KICAgICAgICAuY29udGFpbmVyIHsNCiAgICAgICAgICAgIG1heC13aWR0aDogNDgwcHg7DQogICAgICAgICAgICBtYXJnaW46IDQwcHggYXV0bzsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxZjFmMWY7DQogICAgICAgICAgICBwYWRkaW5nOiAyNHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsNCiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgOHB4IDI0cHggcmdiYSgwLDAsMCwwLjYpOw0KICAgICAgICB9DQogICAgICAgIGgyIHsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjBweDsNCiAgICAgICAgICAgIGNvbG9yOiAjMDBmZmZmOw0KICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjRweDsNCiAgICAgICAgfQ0KICAgICAgICBsYWJlbCB7DQogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsNCiAgICAgICAgICAgIG1hcmdpbjogMTJweCAwIDRweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgIGNvbG9yOiAjYmJiYmJiOw0KICAgICAgICB9DQogICAgICAgIGlucHV0W3R5cGU9InRleHQiXSwNCiAgICAgICAgaW5wdXRbdHlwZT0iZmlsZSJdLA0KICAgICAgICBidXR0b24gew0KICAgICAgICAgICAgd2lkdGg6IDEwMCU7DQogICAgICAgICAgICBwYWRkaW5nOiAxMnB4Ow0KICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTBweDsNCiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMyYTJhMmE7DQogICAgICAgICAgICBjb2xvcjogI2ZmZjsNCiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7DQogICAgICAgIH0NCiAgICAgICAgYnV0dG9uIHsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE4cHg7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBjMTdiOw0KICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsNCiAgICAgICAgICAgIHRyYW5zaXRpb246IGJhY2tncm91bmQgMC4zcyBlYXNlOw0KICAgICAgICB9DQogICAgICAgIGJ1dHRvbjpob3ZlciB7DQogICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDBhNDZjOw0KICAgICAgICB9DQogICAgICAgICNyZXN1bHQgew0KICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICAgIGNvbG9yOiAjMDBmZmZmOw0KICAgICAgICB9DQogICAgICAgIC5mb290ZXIgew0KICAgICAgICAgICAgbWFyZ2luLXRvcDogMzBweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsNCiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMxODE4MTg7DQogICAgICAgICAgICBwYWRkaW5nOiAxOHB4Ow0KICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsNCiAgICAgICAgfQ0KICAgICAgICAuZm9vdGVyIGg0IHsNCiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDhweDsNCiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsNCiAgICAgICAgICAgIGNvbG9yOiAjZmZmOw0KICAgICAgICB9DQogICAgICAgIC5mb290ZXIgdWwgew0KICAgICAgICAgICAgbGlzdC1zdHlsZTogbm9uZTsNCiAgICAgICAgICAgIHBhZGRpbmc6IDA7DQogICAgICAgICAgICBtYXJnaW46IDAgMCAxMnB4IDA7DQogICAgICAgIH0NCiAgICAgICAgLmZvb3RlciBsaSB7DQogICAgICAgICAgICBtYXJnaW4tYm90dG9tOiA2cHg7DQogICAgICAgIH0NCiAgICAgICAgLmZvb3RlciBhIHsNCiAgICAgICAgICAgIGNvbG9yOiAjMDBmZmZmOw0KICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lOw0KICAgICAgICB9DQogICAgICAgIC5jcmVhdGVkLWJ5IHsNCiAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjsNCiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE2cHg7DQogICAgICAgICAgICBmb250LXNpemU6IDEycHg7DQogICAgICAgICAgICBjb2xvcjogIzY2NjsNCiAgICAgICAgfQ0KICAgIDwvc3R5bGU+DQoNCjwvaGVhZD4NCg0KPGJvZHk+DQoNCiAgPGRpdiBjbGFzcz0iY29udGFpbmVyIj4NCg0KICAgIDxoMj7wn5qAIEJ1YXQgV2Vic2l0ZSBPdG9tYXRpczwvaDI+DQoJICA8ZGl2IGNsYXNzPSJkLWZsZXgganVzdGlmeS1jb250ZW50LWJldHdlZW4gYWxpZ24taXRlbXMtY2VudGVyIG1iLTQgbXQtNCBtcy0yIiBzdHlsZT0ibWF4LXdpZHRoOiA1MDBweDsgd2lkdGg6IDkwJTsiPg0KICAgIDxidXR0b24gb25jbGljaz0nbG9jYXRpb24uaHJlZj0idmVyY2VsLnBocCInIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tZ2xhc3MgbWUtMiBmbGV4LWZpbGwiPkhvbWU8L2J1dHRvbj4NCiAgICA8YnV0dG9uIG9uY2xpY2s9J2xvY2F0aW9uLmhyZWY9ImluZGV4LnBocCInIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tZ2xhc3MgbWUtMiBmbGV4LWZpbGwgdGV4dC1ub3dyYXAiPk1lbnUgRGVwYW48L2J1dHRvbj4NCiAgICA8YnV0dG9uIG9uY2xpY2s9J2xvY2F0aW9uLmhyZWY9Ij9sb2dvdXQ9MSInIGNsYXNzPSJidG4gYnRuLXNlY29uZGFyeSBidG4tZ2xhc3MgZmxleC1maWxsIj5Mb2dvdXQ8L2J1dHRvbj4NCjwvZGl2Pg0KDQogICAgPGZvcm0gaWQ9ImRlcGxveUZvcm0iPg0KDQogICAgICA8bGFiZWw+TmFtYSBXZWJzaXRlPC9sYWJlbD4NCiAgICAgIDxpbnB1dCB0eXBlPSJ0ZXh0IiBpZD0ic2l0ZU5hbWUiIHBsYWNlaG9sZGVyPSJjb250b2g6IG15a2VyZW53ZWIiIHJlcXVpcmVkPg0KDQogICAgICA8bGFiZWw+VXBsb2FkIEZpbGUgKEluZGV4Lmh0bWwgYXRhdSBaSVApPC9sYWJlbD4NCiAgICAgIDxpbnB1dCB0eXBlPSJmaWxlIiBpZD0iaHRtbEZpbGUiIGFjY2VwdD0iLmh0bWwsLnppcCxhcHBsaWNhdGlvbi96aXAiIHJlcXVpcmVkPg0KDQogICAgICA8YnV0dG9uIHR5cGU9InN1Ym1pdCI+QnVhdCBTZWthcmFuZzwvYnV0dG9uPg0KICAgIDwvZm9ybT4NCg0KICAgIDxkaXYgaWQ9InJlc3VsdCI+PC9kaXY+DQoNCiAgICA8ZGl2IGNsYXNzPSJmb290ZXIiPg0KDQogICAgICA8aDQ+8J+TjCBTeWFyYXQgJiBLZXRlbnR1YW48L2g0Pg0KICAgICAgPHVsPg0KICAgICAgICA8bGk+RmlsZSB0dW5nZ2FsIHdhamliIGJlcm5hbWEgPHN0cm9uZz5pbmRleC5odG1sPC9zdHJvbmc+LjwvbGk+DQogICAgICAgIDxsaT5KaWthIHVwbG9hZCBmaWxlIDxzdHJvbmc+WklQPC9zdHJvbmc+LCBoYXJ1cyBtZW5nYW5kdW5nIDxzdHJvbmc+aW5kZXguaHRtbDwvc3Ryb25nPiBkaSBsZXZlbCByb290LjwvbGk+DQogICAgICAgIDxsaT5UaWRhayBib2xlaCBtZW5nYW5kdW5nIGtvbnRlbiBpbGVnYWwgYXRhdSBwaGlzaGluZy48L2xpPg0KICAgICAgICA8bGk+V2Vic2l0ZSBha2FuIGJlcnNpZmF0IHB1YmxpayAmIGdyYXRpcy48L2xpPg0KICAgICAgPC91bD4NCg0KICAgICAgPGg0PvCfk54gS29udGFrIEFkbWluPC9oND4NCiAgICAgIDx1bD4NCiAgICAgICAgPGxpPldoYXRzQXBwOiA8YSBocmVmPSJodHRwczovL3dhLm1lLzYyODc3MTM0OTA2NTEiIHRhcmdldD0iX2JsYW5rIj5Pd25lciBXZWI8L2E+PC9saT4NCiAgICAgICAgPGxpPlRlbGVncmFtOiA8YSBocmVmPSJodHRwczovL3QubWUvNjI4NzcxMzQ5MDY1MSIgdGFyZ2V0PSJfYmxhbmsiPk93bmVyIFdlYjwvYT48L2xpPg0KICAgICAgICA8bGk+Q2hhbm5lbDogPGEgaHJlZj0iaHR0cHM6Ly93aGF0c2FwcC5jb20vY2hhbm5lbC8wMjkwMFZiNmdlRlNXNTA5ZUJMSXAwMiIgdGFyZ2V0PSJfYmxhbmsiPkNoYW5uZWwgS2FtaTwvYT48L2xpPg0KICAgICAgPC91bD4NCg0KICAgICAgPGRpdiBjbGFzcz0iY3JlYXRlZC1ieSI+8J+MkCBDcmVhdGUgYnkgPHN0cm9uZz5DZWNlcDwvc3Ryb25nPjwvZGl2Pg0KICAgIDwvZGl2Pg0KDQogIDwvZGl2Pg0KPHNjcmlwdCBzcmM9Imh0dHBzOi8vY2RuLmpzZGVsaXZyLm5ldC9ucG0vYm9vdHN0cmFwQDUuMy4zL2Rpc3QvanMvYm9vdHN0cmFwLmJ1bmRsZS5taW4uanMiPjwvc2NyaXB0Pg0KICA8c2NyaXB0Pg0KICAgIC8vIEdhbnRpIFRva2VuIEFuZGEgZGkgc2luaQ0KICAgIGNvbnN0IHZlcmNlbFRva2VuID0gInZqcFdFMmhVeXlmaVgyT1ZBM0RwUVk2ZSI7IA0KDQogICAgLy8gRnVuZ3NpIHV0aWxpdGFzIHVudHVrIG1lbmdrb252ZXJzaSBBcnJheUJ1ZmZlciBtZW5qYWRpIHN0cmluZyBCYXNlNjQNCiAgICBjb25zdCBhcnJheUJ1ZmZlclRvQmFzZTY0ID0gKGJ1ZmZlcikgPT4gew0KICAgICAgICBsZXQgYmluYXJ5ID0gJyc7DQogICAgICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTsNCiAgICAgICAgY29uc3QgbGVuID0gYnl0ZXMuYnl0ZUxlbmd0aDsNCiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykgew0KICAgICAgICAgICAgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pOw0KICAgICAgICB9DQogICAgICAgIHJldHVybiBidG9hKGJpbmFyeSk7DQogICAgfTsNCg0KICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJkZXBsb3lGb3JtIikuYWRkRXZlbnRMaXN0ZW5lcigic3VibWl0IiwgYXN5bmMgZnVuY3Rpb24gKGUpIHsNCiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOw0KDQogICAgICAgIGNvbnN0IHNpdGVOYW1lID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInNpdGVOYW1lIikudmFsdWUudHJpbSgpOw0KICAgICAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiaHRtbEZpbGUiKTsNCiAgICAgICAgY29uc3QgcmVzdWx0RGl2ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlc3VsdCIpOw0KDQogICAgICAgIGlmICghc2l0ZU5hbWUgfHwgZmlsZUlucHV0LmZpbGVzLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICAgICAgYWxlcnQoIklzaSBuYW1hIGRhbiB1cGxvYWQgZmlsZSEiKTsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KDQogICAgICAgIGNvbnN0IGZpbGUgPSBmaWxlSW5wdXQuZmlsZXNbMF07DQogICAgICAgIHJlc3VsdERpdi5pbm5lckhUTUwgPSAi8J+TpCBwcm9zZXMuLi4iOw0KDQogICAgICAgIGxldCBkZXBsb3lGaWxlcyA9IFtdOw0KICAgICAgICBsZXQgaW5kZXhIdG1sQ29udGVudCA9IG51bGw7DQogICAgICAgIGxldCBpc0FyY2hpdmUgPSBmaWxlLm5hbWUudG9Mb3dlckNhc2UoKS5lbmRzV2l0aCgnLnppcCcpIHx8IGZpbGUudHlwZSA9PT0gJ2FwcGxpY2F0aW9uL3ppcCc7DQoNCiAgICAgICAgLy8gLS0tIDEuIEhBTkRMRSBaSVAgRVhUUkFDVElPTiAtLS0NCiAgICAgICAgaWYgKGlzQXJjaGl2ZSkgew0KICAgICAgICAgICAgcmVzdWx0RGl2LmlubmVySFRNTCA9ICLij7MgTWVuZ2Vrc3RyYWsgZmlsZSBaSVAgKGluaSBtdW5na2luIGJ1dHVoIHdha3R1KS4uLiI7DQogICAgICAgICAgICB0cnkgew0KICAgICAgICAgICAgICAgIGNvbnN0IHppcCA9IGF3YWl0IG5ldyBKU1ppcCgpLmxvYWRBc3luYyhmaWxlKTsNCiAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICBsZXQgZm91bmRJbmRleCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2VzID0gW107DQogICAgICAgICAgICAgICAgemlwLmZvckVhY2goKHJlbGF0aXZlUGF0aCwgemlwRW50cnkpID0+IHsNCiAgICAgICAgICAgICAgICAgICAgaWYgKCF6aXBFbnRyeS5kaXIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRlbnR1a2FuIGZvcm1hdCBrb250ZW46IHN0cmluZyB1bnR1ayB0ZWtzLCBhcnJheWJ1ZmZlciB1bnR1ayBiaW5lcg0KICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNCaW5hcnkgPSAhcmVsYXRpdmVQYXRoLnRvTG93ZXJDYXNlKCkubWF0Y2goL1wuKGh0bWx8Y3NzfGpzfGpzb258eG1sfHN2Z3x0eHR8cGhwfG1kfHltbHx5YW1sfGxvZykkLyk7DQogICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtYXQgPSBpc0JpbmFyeSA/ICJhcnJheWJ1ZmZlciIgOiAic3RyaW5nIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgcHJvbWlzZXMucHVzaCh6aXBFbnRyeS5hc3luYyhmb3JtYXQpLnRoZW4oY29udGVudCA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGZpbGVEYXRhID0gY29udGVudDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBKaWthIGJpbmVyLCBrb252ZXJzaSBrZSBCYXNlNjQNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXNCaW5hcnkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZURhdGEgPSBhcnJheUJ1ZmZlclRvQmFzZTY0KGNvbnRlbnQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcGxveUZpbGVzLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiByZWxhdGl2ZVBhdGgsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGZpbGVEYXRhDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2VrIGRhbiBzaW1wYW4ga29udGVuIGluZGV4Lmh0bWwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVsYXRpdmVQYXRoLnRvTG93ZXJDYXNlKCkgPT09ICdpbmRleC5odG1sJykgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmRleEh0bWxDb250ZW50ID0gY29udGVudDsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm91bmRJbmRleCA9IHRydWU7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkpOw0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7DQoNCiAgICAgICAgICAgICAgICBpZiAoIWZvdW5kSW5kZXgpIHsNCiAgICAgICAgICAgICAgICAgICAgcmVzdWx0RGl2LmlubmVySFRNTCA9ICLimqDvuI8gR2FnYWw6IEZpbGUgWklQIGhhcnVzIG1lbmdhbmR1bmcgZmlsZSBiZXJuYW1hICdpbmRleC5odG1sJyBkaSBsZXZlbCByb290LiI7DQogICAgICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgICAgICB9DQoNCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgICAgIHJlc3VsdERpdi5pbm5lckhUTUwgPSAi4p2MIEdhZ2FsIG1lbmdla3N0cmFrIGZpbGUgWklQLiBQYXN0aWthbiBmaWxlIHRpZGFrIGtvcnVwIGF0YXUgdGVybGFsdSBiZXNhci4iOw0KICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlpJUCBFcnJvcjoiLCBlcnIpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSANCiAgICAgICAgLy8gLS0tIDIuIEhBTkRMRSBTSU5HTEUgSFRNTCBGSUxFICh3YWppYiBpbmRleC5odG1sKSAtLS0NCiAgICAgICAgZWxzZSBpZiAoZmlsZS5uYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdpbmRleC5odG1sJykgew0KICAgICAgICAgICAgaW5kZXhIdG1sQ29udGVudCA9IGF3YWl0IGZpbGUudGV4dCgpOw0KICAgICAgICAgICAgZGVwbG95RmlsZXMucHVzaCh7DQogICAgICAgICAgICAgICAgZmlsZTogImluZGV4Lmh0bWwiLA0KICAgICAgICAgICAgICAgIGRhdGE6IGluZGV4SHRtbENvbnRlbnQNCiAgICAgICAgICAgIH0pOw0KICAgICAgICB9IA0KICAgICAgICAvLyAtLS0gMy4gQkxPS0lSIEZJTEUgTEFJTiAtLS0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgcmVzdWx0RGl2LmlubmVySFRNTCA9ICLimqDvuI8gR2FnYWw6IEhhbnlhIGZpbGUgJ2luZGV4Lmh0bWwnIHR1bmdnYWwgYXRhdSBmaWxlIGFyc2lwICcuemlwJyB5YW5nIGRpZHVrdW5nLiI7DQogICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQoNCiAgICAgICAgLy8gLS0tIDQuIERFUExPWSBLRSBWRVJDRUwgLS0tDQoNCiAgICAgICAgcmVzdWx0RGl2LmlubmVySFRNTCA9ICLij7MgTWVtYnVhdCBwcm9qZWN0IGRpIFZlcmNlbC4uLiI7DQogICAgICAgIHRyeSB7DQogICAgICAgICAgICAvLyBDb2JhIGJ1YXQgcHJvamVjdCAoVmVyY2VsIGFrYW4gc2tpcCBqaWthIHN1ZGFoIGFkYSkNCiAgICAgICAgICAgIGF3YWl0IGZldGNoKCJodHRwczovL2FwaS52ZXJjZWwuY29tL3YxMC9wcm9qZWN0cyIsIHsNCiAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt2ZXJjZWxUb2tlbn1gLA0KICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7DQogICAgICAgICAgICAgICAgICAgIG5hbWU6IHNpdGVOYW1lLA0KICAgICAgICAgICAgICAgICAgICBmcmFtZXdvcms6IG51bGwNCiAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgIGNvbnNvbGUud2FybigiR2FnYWwgbWVtYnVhdCBwcm9qZWN0IGRpIFZlcmNlbCAobXVuZ2tpbiBzdWRhaCBhZGEsIG1lbGFuanV0a2FuIGRlcGxveSkuIik7DQogICAgICAgIH0NCg0KDQogICAgICAgIHJlc3VsdERpdi5pbm5lckhUTUwgPSAi8J+agCBEZXBsb3lpbmcga2UgVmVyY2VsLi4uIjsNCiAgICAgICAgY29uc3QgcGF5bG9hZCA9IHsNCiAgICAgICAgICAgIG5hbWU6IHNpdGVOYW1lLA0KICAgICAgICAgICAgcHJvamVjdDogc2l0ZU5hbWUsDQogICAgICAgICAgICB0YXJnZXQ6ICJwcm9kdWN0aW9uIiwNCiAgICAgICAgICAgIGZpbGVzOiBkZXBsb3lGaWxlcywgLy8gTWVuZ2d1bmFrYW4gYXJyYXkgZmlsZSBoYXNpbCBla3N0cmFrc2kvdHVuZ2dhbA0KICAgICAgICAgICAgcHJvamVjdFNldHRpbmdzOiB7DQogICAgICAgICAgICAgICAgZnJhbWV3b3JrOiBudWxsLA0KICAgICAgICAgICAgICAgIGJ1aWxkQ29tbWFuZDogbnVsbCwNCiAgICAgICAgICAgICAgICBkZXZDb21tYW5kOiBudWxsLA0KICAgICAgICAgICAgICAgIG91dHB1dERpcmVjdG9yeTogbnVsbA0KICAgICAgICAgICAgfQ0KICAgICAgICB9Ow0KDQogICAgICAgIHRyeSB7DQogICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKCJodHRwczovL2FwaS52ZXJjZWwuY29tL3YxMy9kZXBsb3ltZW50cyIsIHsNCiAgICAgICAgICAgICAgICBtZXRob2Q6ICJQT1NUIiwNCiAgICAgICAgICAgICAgICBoZWFkZXJzOiB7DQogICAgICAgICAgICAgICAgICAgIEF1dGhvcml6YXRpb246IGBCZWFyZXIgJHt2ZXJjZWxUb2tlbn1gLA0KICAgICAgICAgICAgICAgICAgICAiQ29udGVudC1UeXBlIjogImFwcGxpY2F0aW9uL2pzb24iDQogICAgICAgICAgICAgICAgfSwNCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShwYXlsb2FkKQ0KICAgICAgICAgICAgfSk7DQoNCiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7DQoNCiAgICAgICAgICAgIGlmIChkYXRhLnVybCkgew0KICAgICAgICAgICAgICAgIHJlc3VsdERpdi5pbm5lckhUTUwgPSBg4pyFIFdlYnNpdGUgYmVyaGFzaWwgZGlidWF0Ojxicj48YSBocmVmPSJodHRwczovLyR7c2l0ZU5hbWV9LnZlcmNlbC5hcHAiIHRhcmdldD0iX2JsYW5rIj5odHRwczovLyR7c2l0ZU5hbWV9LnZlcmNlbC5hcHA8L2E+YDsNCiAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgcmVzdWx0RGl2LmlubmVySFRNTCA9IGDinYwgR2FnYWw6ICR7ZGF0YS5lcnJvcj8ubWVzc2FnZSB8fCAiVGVyamFkaSBrZXNhbGFoYW4gc2FhdCBkZXBsb3ltZW50IFZlcmNlbC4ifWA7DQogICAgICAgICAgICB9DQogICAgICAgIH0gY2F0Y2ggKGVycikgew0KICAgICAgICAgICAgcmVzdWx0RGl2LmlubmVySFRNTCA9ICLinYwgS29uZWtzaSBnYWdhbCBrZSBWZXJjZWwuIjsNCiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoIlZlcmNlbCBEZXBsb3kgRXJyb3I6IiwgZXJyKTsNCiAgICAgICAgfQ0KICAgIH0pOw0KICA8L3NjcmlwdD4NCjwvYm9keT4NCjwvaHRtbD4=')); ?>